(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3953691e"],{"3b09":function(t,e,a){},"82c0":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return o}));a("ac1f"),a("5319");var n=a("2b0e");function i(t,e,a,n,i,o){if(""!==e&&void 0!==e||(e="danger"),""===a||void 0===a)switch(e){case"success":a="fas fa-check-circle";break;case"info":a="fas fa-info-circle";break;case"warning":a="fas fa-exclamation-triangle";break;case"danger":a="fas fa-times-circle";break;default:a="fas fa-question-circle";break}window.$.notify({icon:a,title:n,message:t,url:i,target:o},{element:"body",position:null,type:e,allow_dismiss:!0,newest_on_top:!1,showProgressbar:!1,placement:{from:"top",align:"center"},offset:20,spacing:10,z_index:9999,delay:5e3,timer:1e3,url_target:"_blank",mouse_over:null,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"}})}var o=new n["a"]({methods:{ajaxSubmit:function(t,e){this.$http(t).then((function(t){t.status&&e(t.data)})).catch((function(t){console.log(t)}))},validateToken:function(){var t=document.cookie.replace(/(?:(?:^|.*;\s*)myToken\s*=\s*([^;]*).*$)|^.*$/,"$1");return!!t&&(this.$http.defaults.headers.common.Authorization="Bearer ".concat(t),!0)}}})},8418:function(t,e,a){"use strict";var n=a("a04b"),i=a("9bf2"),o=a("5c6c");t.exports=function(t,e,a){var r=n(e);r in t?i.f(t,r,o(0,a)):t[r]=a}},"99af":function(t,e,a){"use strict";var n=a("23e7"),i=a("d039"),o=a("e8b5"),r=a("861d"),c=a("7b0b"),s=a("50c4"),d=a("8418"),l=a("65f0"),u=a("1dde"),h=a("b622"),f=a("2d00"),b=h("isConcatSpreadable"),p=9007199254740991,g="Maximum allowed index exceeded",m=f>=51||!i((function(){var t=[];return t[b]=!1,t.concat()[0]!==t})),v=u("concat"),_=function(t){if(!r(t))return!1;var e=t[b];return void 0!==e?!!e:o(t)},w=!m||!v;n({target:"Array",proto:!0,forced:w},{concat:function(t){var e,a,n,i,o,r=c(this),u=l(r,0),h=0;for(e=-1,n=arguments.length;e<n;e++)if(o=-1===e?r:arguments[e],_(o)){if(i=s(o.length),h+i>p)throw TypeError(g);for(a=0;a<i;a++,h++)a in o&&d(u,h,o[a])}else{if(h>=p)throw TypeError(g);d(u,h++,o)}return u.length=h,u}})},b9ff:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",[a("section",{staticClass:"productsmanagement"},[a("div",{staticClass:"container"},[a("div",{staticClass:"mt-5 clearfix"},[a("BaseButton",{staticClass:"btn btn-outline-dark rounded-0 float-right",attrs:{type:"button","data-toggle":"modal","data-target":"#productModal"},on:{click:function(e){return t.onOpenProductModal("new",0)}}},[t._v(" NEW PRODUCT ")])],1),a("table",{staticClass:"table table-responsive-xl mt-3"},[a("thead",[a("tr",[a("th",{attrs:{width:"50"}},[t._v("#")]),a("th",{attrs:{width:"120"}},[t._v("Product")]),a("th",[t._v("Sort")]),a("th",{attrs:{width:"120"}},[t._v("Price")]),a("th",{attrs:{width:"150"}},[t._v("Discount Price")]),a("th",{attrs:{width:"100"}},[t._v("Active")]),a("th",{attrs:{width:"150"}},[t._v("Edit")])])]),a("tbody",t._l(t.productList,(function(e,n){return a("tr",{key:e.id},[a("td",[t._v(t._s(n+1))]),a("td",[t._v(t._s(e.category))]),a("td",[t._v(t._s(e.title))]),a("td",{staticClass:"text-right"},[t._v(t._s(e.origin_price))]),a("td",{staticClass:"text-right"},[t._v(t._s(e.price))]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.enabled,expression:"item.enabled"}],staticClass:"switch",attrs:{type:"checkbox",id:"switch-"+n},domProps:{checked:Array.isArray(e.enabled)?t._i(e.enabled,null)>-1:e.enabled},on:{click:function(a){return t.onPatchItem(e)},change:function(a){var n=e.enabled,i=a.target,o=!!i.checked;if(Array.isArray(n)){var r=null,c=t._i(n,r);i.checked?c<0&&t.$set(e,"enabled",n.concat([r])):c>-1&&t.$set(e,"enabled",n.slice(0,c).concat(n.slice(c+1)))}else t.$set(e,"enabled",o)}}}),a("label",{staticClass:"slider",attrs:{for:"switch-"+n}})]),a("td",[a("div",{staticClass:"btn-group"},[a("BaseButton",{staticClass:"btn btn-outline-dark btn-sm rounded-0",attrs:{"data-toggle":"modal","data-target":"#productModal"},on:{click:function(a){return t.onOpenProductModal("edit",e)}}},[t._v(" Edit ")]),a("BaseButton",{staticClass:"btn btn-outline-danger btn-sm rounded-0",attrs:{disabled:t.deleteBtn===e.id,"data-toggle":"modal","data-target":"#delProductModal"},on:{click:function(a){return t.onOpenProductModal("delete",e)}}},[t.deleteBtn===e.id?a("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):t._e(),t._v(" Delete ")])],1)])])})),0)]),a("Loading",{attrs:{active:this.isLoading},on:{"update:active":function(e){return t.$set(this,"isLoading",e)}}}),a("BasePagination",{attrs:{pages:t.pagination},on:{update:t.getProductList}}),a("ProductModal",{attrs:{"single-product":t.singleProduct,"modal-type":t.modalType},on:{update:t.getProductList}}),a("DelProductModal",{attrs:{"single-product":t.singleProduct},on:{update:t.getProductList}})],1)])])},i=[],o=(a("d3b7"),a("3ca3"),a("ddb0"),a("99af"),a("82c0")),r={components:{Layout:function(){return a.e("chunk-2d0abbda").then(a.bind(null,"1720"))},ProductModal:function(){return a.e("chunk-74050c3d").then(a.bind(null,"84de"))},DelProductModal:function(){return a.e("chunk-2d0b8e81").then(a.bind(null,"314a"))}},data:function(){return{productList:[],pagination:{},deleteBtn:"",isLoading:!1,singleProduct:{},modalType:"new"}},methods:{getProductList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io","/api/").concat("d5ab7a96-794d-433e-9fc9-13fa71ebe3d6","/admin/ec/products");this.$http.get(a,{params:{page:e}}).then((function(e){t.productList=e.data.data,t.pagination=e.data.meta.pagination,t.isLoading=!1}))},onOpenProductModal:function(t,e){switch(t){case"new":this.modalType="new";break;case"edit":this.modalType="edit",this.singleProduct=e;break;case"delete":this.modalType="delete",this.singleProduct=e;break;default:break}},onPatchItem:function(t){var e="".concat("https://course-ec-api.hexschool.io","/api/").concat("d5ab7a96-794d-433e-9fc9-13fa71ebe3d6","/admin/ec/product/").concat(t.id);this.$http.patch(e,{enabled:!t.enabled}).then((function(t){console.log(t.data.data.enabled)}))}},created:function(){o["b"].validateToken()?this.getProductList():this.$router.push({name:"Login"})}},c=r,s=(a("bb53"),a("2877")),d=Object(s["a"])(c,n,i,!1,null,null,null);e["default"]=d.exports},bb53:function(t,e,a){"use strict";a("3b09")}}]);