(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74050c3d"],{2949:function(t,e,o){"use strict";o("6696")},6696:function(t,e,o){},"84de":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[o("div",{staticClass:"modal-dialog modal-xl text-left"},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"modal-header"},[o("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v(" "+t._s("edit"===this.modalType?t.productInfo.title:"New Product")+" ")]),t._m(0)]),o("div",{staticClass:"modal-body"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-4"},[o("div",{staticClass:"form-group"},[t._m(1),o("input",{directives:[{name:"model",rawName:"v-model",value:t.productInfo.imageUrl[0],expression:"productInfo.imageUrl[0]"}],staticClass:"form-control",attrs:{id:"imageUrl",type:"text",placeholder:"請輸入圖片連結"},domProps:{value:t.productInfo.imageUrl[0]},on:{input:function(e){e.target.composing||t.$set(t.productInfo.imageUrl,0,e.target.value)}}})]),o("img",{staticClass:"img-fluid",attrs:{src:t.productInfo.imageUrl[0],alt:"preview"}})]),o("img",{staticClass:"img-fluid",attrs:{alt:""}}),o("div",{staticClass:"col-sm-8"},[o("div",{staticClass:"form-group"},[t._m(2),o("input",{directives:[{name:"model",rawName:"v-model",value:t.productInfo.title,expression:"productInfo.title"}],staticClass:"form-control",attrs:{id:"title",type:"text",placeholder:"請輸入標題"},domProps:{value:t.productInfo.title},on:{input:function(e){e.target.composing||t.$set(t.productInfo,"title",e.target.value)}}})]),o("div",{staticClass:"form-row"},[o("div",{staticClass:"form-group col-md-6"},[t._m(3),o("input",{directives:[{name:"model",rawName:"v-model",value:t.productInfo.category,expression:"productInfo.category"}],staticClass:"form-control",attrs:{id:"category",type:"text",placeholder:"請輸入分類"},domProps:{value:t.productInfo.category},on:{input:function(e){e.target.composing||t.$set(t.productInfo,"category",e.target.value)}}})]),o("div",{staticClass:"form-group col-md-6"},[o("label",{attrs:{for:"unit"}},[t._v("Unit")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.productInfo.unit,expression:"productInfo.unit"}],staticClass:"form-control",attrs:{id:"unit",type:"unit",placeholder:"請輸入單位"},domProps:{value:t.productInfo.unit},on:{input:function(e){e.target.composing||t.$set(t.productInfo,"unit",e.target.value)}}})])]),o("div",{staticClass:"form-row"},[o("div",{staticClass:"form-group col-md-6"},[o("label",{attrs:{for:"origin_price"}},[t._v("Price")]),o("input",{directives:[{name:"model",rawName:"v-model.number",value:t.productInfo.origin_price,expression:"productInfo.origin_price",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"origin_price",type:"number",placeholder:"請輸入原價"},domProps:{value:t.productInfo.origin_price},on:{input:function(e){e.target.composing||t.$set(t.productInfo,"origin_price",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),o("div",{staticClass:"form-group col-md-6"},[o("label",{attrs:{for:"price"}},[t._v("Selling Price")]),o("input",{directives:[{name:"model",rawName:"v-model.number",value:t.productInfo.price,expression:"productInfo.price",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"price",type:"number",placeholder:"請輸入售價"},domProps:{value:t.productInfo.price},on:{input:function(e){e.target.composing||t.$set(t.productInfo,"price",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),o("hr"),o("div",{staticClass:"form-group"},[t._m(4),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.productInfo.description,expression:"productInfo.description"}],staticClass:"form-control",attrs:{id:"description",type:"text",placeholder:"請輸入產品描述"},domProps:{value:t.productInfo.description},on:{input:function(e){e.target.composing||t.$set(t.productInfo,"description",e.target.value)}}})]),o("div",{staticClass:"form-group"},[t._m(5),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.productInfo.content,expression:"productInfo.content"}],staticClass:"form-control",attrs:{id:"description",type:"text",placeholder:"請輸入說明內容"},domProps:{value:t.productInfo.content},on:{input:function(e){e.target.composing||t.$set(t.productInfo,"content",e.target.value)}}})]),o("div",{staticClass:"form-group"},[o("div",{staticClass:"form-check"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.productInfo.enabled,expression:"productInfo.enabled"}],staticClass:"styled-checkbox",attrs:{id:"is_enabled",type:"checkbox"},domProps:{checked:Array.isArray(t.productInfo.enabled)?t._i(t.productInfo.enabled,null)>-1:t.productInfo.enabled},on:{change:function(e){var o=t.productInfo.enabled,a=e.target,r=!!a.checked;if(Array.isArray(o)){var i=null,n=t._i(o,i);a.checked?n<0&&t.$set(t.productInfo,"enabled",o.concat([i])):n>-1&&t.$set(t.productInfo,"enabled",o.slice(0,n).concat(o.slice(n+1)))}else t.$set(t.productInfo,"enabled",r)}}}),o("label",{staticClass:"styledLabel",attrs:{for:"is_enabled"}},[t._v("Enabled")])])])])])]),o("div",{staticClass:"modal-footer"},[o("BaseButton",{staticClass:"btn btn-danger rounded-0",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" Close ")]),o("BaseButton",{staticClass:"btn btn-outline-dark rounded-0",attrs:{type:"button"},on:{click:t.onLoadProduct}},[t._v(" UpLoad ")])],1)])])])},r=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("label",{attrs:{for:"imageUrl"}},[t._v(" Image URL "),o("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("label",{attrs:{for:"title"}},[t._v(" Title "),o("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("label",{attrs:{for:"category"}},[t._v(" Category "),o("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("label",{attrs:{for:"description"}},[t._v(" Product Description "),o("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("label",{attrs:{for:"content"}},[t._v(" Content "),o("span",{staticClass:"text-danger"},[t._v("*")])])}],i=(o("99af"),{props:{singleProduct:{type:Object,default:function(){return{}}},modalType:{type:String,default:"new"}},data:function(){return{isLoading:!1,productInfo:{title:"",category:"",description:"",content:"",imageUrl:[],enabled:!1,origin_price:null,price:null,unit:""}}},methods:{onLoadProduct:function(){var t=this;if("new"===this.modalType){this.isLoading=!0;var e="".concat("https://course-ec-api.hexschool.io","/api/").concat("d5ab7a96-794d-433e-9fc9-13fa71ebe3d6","/admin/ec/product");this.$http.post(e,this.productInfo).then((function(e){window.$("#productModal").modal("hide"),t.$emit("update"),t.isLoading=!1}))}else if("edit"===this.modalType){this.isLoading=!0;var o="".concat("https://course-ec-api.hexschool.io","/api/").concat("d5ab7a96-794d-433e-9fc9-13fa71ebe3d6","/admin/ec/product/").concat(this.productInfo.id);this.$http.patch(o,this.productInfo).then((function(e){window.$("#productModal").modal("hide"),t.$emit("update"),t.isLoading=!1}))}}},mounted:function(){var t=this;window.$("#productModal").on("shown.bs.modal",(function(){"edit"===t.modalType&&(t.productInfo=t.singleProduct)})),window.$("#productModal").on("hidden.bs.modal",(function(){Object.assign(t.$data,t.$options.data())}))}}),n=i,s=(o("2949"),o("2877")),c=Object(s["a"])(n,a,r,!1,null,"29d079c3",null);e["default"]=c.exports}}]);