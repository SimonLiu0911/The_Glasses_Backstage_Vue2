(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5ad27ac4"],{"36ad":function(e,t,n){"use strict";n("c409")},6498:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Layout",[n("section",{attrs:{id:"couponList"}},[n("div",{staticClass:"container my-5"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6 pb-5 text-left"},[n("form",[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"coupon_title"}},[e._v(" Title "),n("span",{staticClass:"text-danger"},[e._v("*")])]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newCoupon.title,expression:"newCoupon.title"}],staticClass:"form-control input_style rounded-0",attrs:{type:"string",id:"coupon_title",placeholder:"Coupon Title"},domProps:{value:e.newCoupon.title},on:{input:function(t){t.target.composing||e.$set(e.newCoupon,"title",t.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"coupon_code"}},[e._v(" Code "),n("span",{staticClass:"text-danger"},[e._v("*")])]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newCoupon.code,expression:"newCoupon.code"}],staticClass:"form-control input_style rounded-0",attrs:{type:"string",id:"coupon_code",placeholder:"Coupon Code"},domProps:{value:e.newCoupon.code},on:{input:function(t){t.target.composing||e.$set(e.newCoupon,"code",t.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"coupon_percent"}},[e._v(" Percent(%) "),n("span",{staticClass:"text-danger"},[e._v("*")])]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.newCoupon.percent,expression:"newCoupon.percent",modifiers:{number:!0}}],staticClass:"form-control input_style rounded-0",attrs:{type:"number",id:"coupon_percent",placeholder:"Percent",onKeypress:"return(/[\\d\\.]/.test(String.fromCharCode(event.keyCode)))"},domProps:{value:e.newCoupon.percent},on:{input:function(t){t.target.composing||e.$set(e.newCoupon,"percent",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"coupon_deadline"}},[e._v(" Deadline "),n("span",{staticClass:"text-danger"},[e._v("*")])]),n("DatePicker",{staticClass:"form-control input_style rounded-0",attrs:{id:"coupon_deadline",config:e.options,placeholder:"YYYY-MM-DD"},model:{value:e.dateline.date,callback:function(t){e.$set(e.dateline,"date",t)},expression:"dateline.date"}})],1),n("div",{staticClass:"form-group"},[n("div",{staticClass:"container px-0 mb-2"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-8"},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.dateline.hr,expression:"dateline.hr",modifiers:{number:!0}}],staticClass:"form-control input_style rounded-0",attrs:{type:"number",min:"0",max:"24",onKeypress:"return(/[\\d\\.]/.test(String.fromCharCode(event.keyCode)))"},domProps:{value:e.dateline.hr},on:{input:function(t){t.target.composing||e.$set(e.dateline,"hr",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),n("div",{staticClass:"col-4 d-flex align-items-center"},[n("span",[e._v(" hour ")])])])]),n("div",{staticClass:"container px-0 mb-2"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-8"},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.dateline.min,expression:"dateline.min",modifiers:{number:!0}}],staticClass:"form-control input_style rounded-0",attrs:{type:"number",min:"0",max:"59",onKeypress:"return(/[\\d\\.]/.test(String.fromCharCode(event.keyCode)))"},domProps:{value:e.dateline.min},on:{input:function(t){t.target.composing||e.$set(e.dateline,"min",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),n("div",{staticClass:"col-4 d-flex align-items-center"},[n("span",[e._v(" mins ")])])])]),n("div",{staticClass:"container px-0 mb-2"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-8"},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.dateline.sec,expression:"dateline.sec",modifiers:{number:!0}}],staticClass:"form-control input_style rounded-0",attrs:{type:"number",min:"0",max:"59",onKeypress:"return(/[\\d\\.]/.test(String.fromCharCode(event.keyCode)))"},domProps:{value:e.dateline.sec},on:{input:function(t){t.target.composing||e.$set(e.dateline,"sec",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),n("div",{staticClass:"col-4 d-flex align-items-center"},[n("span",[e._v(" sec ")])])])])]),n("div",{staticClass:"form-group form-check text-left ml-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newCoupon.enabled,expression:"newCoupon.enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"coupon_enabled"},domProps:{checked:Array.isArray(e.newCoupon.enabled)?e._i(e.newCoupon.enabled,null)>-1:e.newCoupon.enabled},on:{change:function(t){var n=e.newCoupon.enabled,o=t.target,a=!!o.checked;if(Array.isArray(n)){var i=null,s=e._i(n,i);o.checked?s<0&&e.$set(e.newCoupon,"enabled",n.concat([i])):s>-1&&e.$set(e.newCoupon,"enabled",n.slice(0,s).concat(n.slice(s+1)))}else e.$set(e.newCoupon,"enabled",a)}}}),n("label",{staticClass:"form-check-label",attrs:{for:"coupon_enabled"}},[e._v("Enabled")])]),n("BaseButton",{staticClass:"btn btn-block btn-dark rounded-0",attrs:{type:"button"},on:{click:e.onAddNewCoupon}},[e._v(" Submit ")])],1)]),n("div",{staticClass:"col-md-6 pb-5"},[n("table",{staticClass:"table table-hover"},[n("thead",[n("tr",[n("th",{attrs:{scope:"col"}},[e._v("#")]),n("th",{attrs:{scope:"col"}},[e._v("Title")]),n("th",{attrs:{scope:"col"}},[e._v("Percent")]),n("th",{attrs:{scope:"col"}},[e._v("Deadline")]),n("th",{attrs:{scope:"col"}},[e._v("Enabled")])])]),n("tbody",e._l(e.couponList,(function(t,o){return n("router-link",{key:t.id,attrs:{to:{name:"CouponDetail",params:{id:""+t.id}},tag:"tr"}},[n("th",[e._v(e._s(o+1))]),n("td",[e._v(e._s(t.title))]),n("td",[e._v(e._s(t.percent))]),n("td",[e._v(e._s(t.deadline.datetime))]),n("td",[!0===t.enabled?n("span",{staticClass:"text-success"},[e._v("Active")]):n("span",{staticClass:"text-danger"},[e._v("Unactive")])])])})),1)])])])]),n("Loading",{attrs:{active:this.isLoading},on:{"update:active":function(t){return e.$set(this,"isLoading",t)}}})],1)])},a=[],i=(n("d3b7"),n("3ca3"),n("ddb0"),n("99af"),n("82c0")),s={components:{Layout:function(){return n.e("chunk-2d0abbda").then(n.bind(null,"1720"))},DatePicker:function(){return n.e("chunk-ff5822e8").then(n.t.bind(null,"133f",7))}},data:function(){return{couponList:[],newCoupon:{title:"",code:"",percent:0,enabled:!1,deadline_at:""},isLoading:!1,options:{format:"YYYY-MM-DD",locale:"zh-tw"},dateline:{date:"",hr:0,min:0,sec:0}}},computed:{convertNum:function(){return parseInt(this.newCoupon.percent,10)}},methods:{getCouponList:function(){var e=this;this.isLoading=!0;var t="".concat("https://course-ec-api.hexschool.io","/api/").concat("d5ab7a96-794d-433e-9fc9-13fa71ebe3d6","/admin/ec/coupons");this.$http.get(t).then((function(t){e.couponList=t.data.data,e.isLoading=!1}))},onAddNewCoupon:function(){var e=this;this.isLoading=!0,this.newCoupon.deadline_at="".concat(this.dateline.date," ").concat(this.dateline.hr,":").concat(this.dateline.min,":").concat(this.dateline.sec);var t="".concat("https://course-ec-api.hexschool.io","/api/").concat("d5ab7a96-794d-433e-9fc9-13fa71ebe3d6","/admin/ec/coupon");this.$http.post(t,this.newCoupon).then((function(){e.getCouponList(),e.newCoupon={title:"",code:"",percent:0,enabled:!1,deadline_at:""},e.isLoading=!1,i["a"]("Success to add a Coupon","success")})).catch((function(t){e.isLoading=!1,i["a"](t.errors.message,"danger")}))}},created:function(){i["b"].validateToken()?this.getCouponList():this.$router.push({name:"Login"})}},r=s,c=(n("36ad"),n("2877")),d=Object(c["a"])(r,o,a,!1,null,null,null);t["default"]=d.exports},"82c0":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));n("ac1f"),n("5319");var o=n("2b0e");function a(e,t,n,o,a,i){if(""!==t&&void 0!==t||(t="danger"),""===n||void 0===n)switch(t){case"success":n="fas fa-check-circle";break;case"info":n="fas fa-info-circle";break;case"warning":n="fas fa-exclamation-triangle";break;case"danger":n="fas fa-times-circle";break;default:n="fas fa-question-circle";break}window.$.notify({icon:n,title:o,message:e,url:a,target:i},{element:"body",position:null,type:t,allow_dismiss:!0,newest_on_top:!1,showProgressbar:!1,placement:{from:"top",align:"center"},offset:20,spacing:10,z_index:9999,delay:5e3,timer:1e3,url_target:"_blank",mouse_over:null,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"}})}var i=new o["a"]({methods:{ajaxSubmit:function(e,t){this.$http(e).then((function(e){e.status&&t(e.data)})).catch((function(e){console.log(e)}))},validateToken:function(){var e=document.cookie.replace(/(?:(?:^|.*;\s*)myToken\s*=\s*([^;]*).*$)|^.*$/,"$1");return!!e&&(this.$http.defaults.headers.common.Authorization="Bearer ".concat(e),!0)}}})},8418:function(e,t,n){"use strict";var o=n("a04b"),a=n("9bf2"),i=n("5c6c");e.exports=function(e,t,n){var s=o(t);s in e?a.f(e,s,i(0,n)):e[s]=n}},"99af":function(e,t,n){"use strict";var o=n("23e7"),a=n("d039"),i=n("e8b5"),s=n("861d"),r=n("7b0b"),c=n("50c4"),d=n("8418"),l=n("65f0"),u=n("1dde"),p=n("b622"),m=n("2d00"),f=p("isConcatSpreadable"),v=9007199254740991,C="Maximum allowed index exceeded",b=m>=51||!a((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),h=u("concat"),g=function(e){if(!s(e))return!1;var t=e[f];return void 0!==t?!!t:i(e)},_=!b||!h;o({target:"Array",proto:!0,forced:_},{concat:function(e){var t,n,o,a,i,s=r(this),u=l(s,0),p=0;for(t=-1,o=arguments.length;t<o;t++)if(i=-1===t?s:arguments[t],g(i)){if(a=c(i.length),p+a>v)throw TypeError(C);for(n=0;n<a;n++,p++)n in i&&d(u,p,i[n])}else{if(p>=v)throw TypeError(C);d(u,p++,i)}return u.length=p,u}})},c409:function(e,t,n){}}]);